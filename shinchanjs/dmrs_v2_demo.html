<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
                    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>Console demo</title>
	
	<link rel="stylesheet" href="css/redmond/jquery-ui-1.9.0.custom.min.css" />
	<link rel="stylesheet" href="css/visualkopasu.css" />
	
	<style>
 		#toolbar {
 			/* T-R-B-L */
 			margin: 5px 5px 5px 0px;
			padding: 4px;
			display: inline-block;
		}
		/* support: IE7 */
		*+html #toolbar {
			display: inline;
		}
	</style>
	
  <script src="js/jquery-1.8.2.js"></script>
  <script src="js/jquery-ui-1.9.0.custom.min.js"></script>
  <script src="js/raphael.js"></script>
  <script src="js/kajika.js"></script>
  <script src="js/testutil.js"></script>
  <script src="js/shinchan.js"></script>
  <script src="js/shinchan.debug.js"></script>
  <script src="js/jikan.js"></script>
  <script src="js/visualisation_v2.js"></script>
  
	<script type="text/javascript">

			var dmrs1 = new function(){
				// Nodes
				//node1 = {"text": "Linux", "from": 0, "to": 5};
				//node2 = {"text": "is", "from": 6, "to": 8};
				var node_438116 = { 'text' : 'a', 'from' : 0, 'to' : 2, 'type' : 'realpred', 'pos': 'q', 'link_count' : 1, 'tooltip' : [['pos:q']] };
				var node_438117 = { 'text' : 'important', 'from' : 3, 'to' : 12, 'type' : 'realpred', 'pos': 'a', 'link_count' : 1, 'tooltip' : [['pos:a','RP.sense:for','cvarsort:event'], ['sf:prop','tense:untensed','mood:indicative']] };
				var node_438118 = { 'text' : 'trait', 'from' : 13, 'to' : 18, 'type' : 'realpred', 'pos': 'n', 'link_count' : 4, 'tooltip' : [['pos:n','RP.sense:1','cvarsort:individual'], ['number:singular','pers:3','ind:plus']] };
				var node_438119 = { 'text' : 'of', 'from' : 19, 'to' : 21, 'type' : 'realpred', 'pos': 'p', 'link_count' : 2, 'tooltip' : [['pos:p','cvarsort:event','sf:prop']] };
				var node_438120 = { 'text' : 'the', 'from' : 22, 'to' : 25, 'type' : 'realpred', 'pos': 'q', 'link_count' : 1, 'tooltip' : [['pos:q']] };
				var node_438121 = { 'text' : 'great', 'from' : 26, 'to' : 31, 'type' : 'realpred', 'pos': 'a', 'link_count' : 1, 'tooltip' : [['pos:a','RP.sense:for','cvarsort:event'], ['sf:prop','tense:untensed','mood:indicative']] };
				var node_438122 = { 'text' : 'generic_entity', 'from' : 32, 'to' : 36, 'type' : 'gpred', 'pos': '', 'link_count' : 4, 'tooltip' : [['cvarsort:individual','number:plural','pers:3'], ['ind:plus']] };
				var node_438123 = { 'text' : '2+', 'from' : 32, 'to' : 36, 'type' : 'carg', 'pos': '', 'link_count' : 1, 'tooltip' : [['cvarsort:event','sf:prop','tense:untensed'], ['mood:indicative','prog:minus','perf:minus']] };
				var node_438124 = { 'text' : 'be', 'from' : 37, 'to' : 39, 'type' : 'realpred', 'pos': 'v', 'link_count' : 2, 'tooltip' : [['pos:v','RP.sense:id','cvarsort:event'], ['sf:prop','tense:pres','mood:indicative'], ['prog:minus','perf:minus']] };
				var node_438125 = { 'text' : 'udef_q', 'from' : 40, 'to' : 62, 'type' : 'gpred', 'pos': '', 'link_count' : 1, 'tooltip' : [] };
				var node_438126 = { 'text' : 'constructive', 'from' : 40, 'to' : 52, 'type' : 'realpred', 'pos': 'a', 'link_count' : 1, 'tooltip' : [['pos:a','RP.sense:1','cvarsort:event'], ['sf:prop','tense:untensed','mood:indicative']] };
				var node_438127 = { 'text' : 'laziness', 'from' : 53, 'to' : 62, 'type' : 'realpred', 'pos': 'n', 'link_count' : 3, 'tooltip' : [['pos:n','RP.sense:1','cvarsort:individual'], ['number:singular','pers:3','gend:n'], ['ind:minus']] };
				
	
				// Links
				//link1 = { "from": node1, "to": node2 };
				var link_446289 = { 'from': node_438116, 'to': node_438118, 'post' : 'H', 'rargname' : 'RSTR' }; 
				var link_446290 = { 'from': node_438117, 'to': node_438118, 'post' : 'EQ', 'rargname' : '1' }; 
				var link_446291 = { 'from': node_438119, 'to': node_438118, 'post' : 'EQ', 'rargname' : '1' }; 
				var link_446292 = { 'from': node_438119, 'to': node_438122, 'post' : 'NEQ', 'rargname' : '2' }; 
				var link_446293 = { 'from': node_438120, 'to': node_438122, 'post' : 'H', 'rargname' : 'RSTR' }; 
				var link_446294 = { 'from': node_438121, 'to': node_438122, 'post' : 'EQ', 'rargname' : '1' }; 
				var link_446295 = { 'from': node_438123, 'to': node_438122, 'post' : 'EQ', 'rargname' : '1' }; 
				var link_446296 = { 'from': node_438124, 'to': node_438118, 'post' : 'NEQ', 'rargname' : '1' }; 
				var link_446297 = { 'from': node_438124, 'to': node_438127, 'post' : 'NEQ', 'rargname' : '2' }; 
				var link_446298 = { 'from': node_438125, 'to': node_438127, 'post' : 'H', 'rargname' : 'RSTR' }; 
				var link_446299 = { 'from': node_438126, 'to': node_438127, 'post' : 'EQ', 'rargname' : '1' }; 
				
	
				// Node array and Link array
				//nodes = [ node1, node2 ];
				//links = [ link1 ];
				this.nodes = [ node_438116, node_438117, node_438118, node_438119, node_438120, node_438121, node_438122, node_438123, node_438124, node_438125, node_438126, node_438127 ];
				this.links = [ link_446289, link_446290, link_446291, link_446292, link_446293, link_446294, link_446295, link_446296, link_446297, link_446298, link_446299 ];
	
				this.sentence_text = 'An important trait of the great ones is constructive laziness.';
			};
			
	</script>

	<script type="text/javascript">
			var dmrs2 = new function(){
				// Nodes
				//node1 = {"text": "Linux", "from": 0, "to": 5};
				//node2 = {"text": "is", "from": 6, "to": 8};
				var node_1 = { 'text' : 'unknown', 'from' : 0, 'to' : 28, 'type' : 'gpred', 'pos': '', 'link_count' : 1, 'tooltip' : [['cvarsort:event','sf:prop-or-ques']] };
				var node_2 = { 'text' : 'udef_q', 'from' : 0, 'to' : 28, 'type' : 'gpred', 'pos': '', 'link_count' : 1, 'tooltip' : [] };
				var node_3 = { 'text' : 'the', 'from' : 0, 'to' : 3, 'type' : 'realpred', 'pos': 'q', 'link_count' : 1, 'tooltip' : [['pos:q']] };
				var node_4 = { 'text' : 'cathedral', 'from' : 4, 'to' : 13, 'type' : 'realpred', 'pos': 'n', 'link_count' : 2, 'tooltip' : [['pos:n','RP.sense:1','cvarsort:individual'], ['number:singular','pers:3','ind:plus']] };
				var node_5 = { 'text' : 'and', 'from' : 14, 'to' : 17, 'type' : 'realpred', 'pos': 'c', 'link_count' : 4, 'tooltip' : [['pos:c','cvarsort:individual','number:plural'], ['pers:3']] };
				var node_6 = { 'text' : 'the', 'from' : 18, 'to' : 21, 'type' : 'realpred', 'pos': 'q', 'link_count' : 1, 'tooltip' : [['pos:q']] };
				var node_7 = { 'text' : 'bazaar', 'from' : 22, 'to' : 28, 'type' : 'realpred', 'pos': 'n', 'link_count' : 2, 'tooltip' : [['pos:n','RP.sense:1','cvarsort:individual'], ['number:singular','pers:3','ind:plus']] };
				
	
				// Links
				//link1 = { "from": node1, "to": node2 };
				var link_1 = { 'from': node_1, 'to': node_5, 'post' : 'NEQ', 'rargname' : 'A' }; 
				var link_2 = { 'from': node_2, 'to': node_5, 'post' : 'H', 'rargname' : 'RSTR' }; 
				var link_3 = { 'from': node_3, 'to': node_4, 'post' : 'H', 'rargname' : 'RSTR' }; 
				var link_4 = { 'from': node_5, 'to': node_4, 'post' : 'NEQ', 'rargname' : 'LI' }; 
				var link_5 = { 'from': node_5, 'to': node_7, 'post' : 'NEQ', 'rargname' : 'RI' }; 
				var link_6 = { 'from': node_6, 'to': node_7, 'post' : 'H', 'rargname' : 'RSTR' }; 
				
	
				// Node array and Link array
				//nodes = [ node1, node2 ];
				//links = [ link1 ];
				this.nodes = [ node_1, node_2, node_3, node_4, node_5, node_6, node_7 ];
				this.links = [ link_1, link_2, link_3, link_4, link_5, link_6 ];
	
				this.sentence_text = 'The Cathedral and the Bazaar';
			};	
			
            var dmrs3 = new function(){
                
                var node_10000 = { 'text' : 'some', 'from' : 0, 'to' : 4, 'type' : 'realpred', 'pos': 'q', 'link_count' : 1, 'tooltip' : [['pos:q']] };
				var node_10001 = { 'text' : 'generic_entity', 'from' : 0, 'to' : 4, 'type' : 'gpred', 'pos': '', 'link_count' : 2, 'tooltip' : [['cvarsort:individual','number:singular','pers:3']] };
				var node_10002 = { 'text' : 'dog', 'from' : 5, 'to' : 9, 'type' : 'realpred', 'pos': 'v', 'link_count' : 2, 'tooltip' : [[new ChibiJS.URL("02001858-v: dog", "http://compling.hss.ntu.edu.sg/omw/cgi-bin/wn-gridx.cgi?synset=02001858-v"),'pos:v','RP.sense:1'], ['cvarsort:event','sf:prop','tense:pres'], ['mood:indicative','prog:-','perf:-']] };
				var node_10003 = { 'text' : 'udef_q', 'from' : 10, 'to' : 15, 'type' : 'gpred', 'pos': '', 'link_count' : 1, 'tooltip' : [] };
				var node_10004 = { 'text' : 'bark', 'from' : 10, 'to' : 15, 'type' : 'realpred', 'pos': 'n', 'link_count' : 2, 'tooltip' : [[new ChibiJS.URL("13162297-n: bark", "http://compling.hss.ntu.edu.sg/omw/cgi-bin/wn-gridx.cgi?synset=13162297-n"),'pos:n','RP.sense:1'], ['cvarsort:individual','number:singular','pers:3']] };
				
    
                
                var link_1 = { 'from': node_10000, 'to': node_10001, 'post' : 'H', 'rargname' : 'RSTR' }; 
				var link_2 = { 'from': node_10002, 'to': node_10001, 'post' : 'NEQ', 'rargname' : '1' }; 
				var link_3 = { 'from': node_10002, 'to': node_10004, 'post' : 'NEQ', 'rargname' : '2' }; 
				var link_4 = { 'from': node_10003, 'to': node_10004, 'post' : 'H', 'rargname' : 'RSTR' }; 
				
    
                
                this.nodes = [ node_10000, node_10001, node_10002, node_10003, node_10004 ];
                this.links = [ link_1, link_2, link_3, link_4 ];
    
                this.sentence_text = 'Some dogs bark.';
            };			
	</script>

  <script>
	var console;
	var dmrs1_canvas;
	
	function initialise(){
		// Create a console
		console = new Console("console");
		console.writeline("- Test Console -");
		
		$("#btnStart").button().click(function(){
			displayInformation(dmrs1_canvas);
		});
		$("#btnClear").button().click(function(){
			console.clear("- Cleared -");
		});
		$("#btnHide").button().click(function(){
			toggleConsole();
		});
	}
	
	$(document).ready(function(){		
		initialise();	
		draw_dmrs();
	});
	
	
	
	function draw_dmrs(){
		dmrs1_canvas = new Canvas("dmrs1_canvas", 320, 240, "MainCanvas");
        var dmrs1_sentence_text = new VisualKopasu.SentenceText("dmrs1_sentence_text", dmrs1.sentence_text);
        var visual_dmrs1 = new VisualKopasu.DMRSCanvas(dmrs1, dmrs1_canvas, dmrs1_sentence_text);
        visual_dmrs1.visualise(); 		

		dmrs2_canvas = new Canvas("dmrs2_canvas", 320, 240, "dmrs2_canvas");
        var dmrs2_text_holder = new VisualKopasu.SentenceText("dmrs2_text_holder", dmrs2.sentence_text);
        var visual_dmrs2 = new VisualKopasu.DMRSCanvas(dmrs2, dmrs2_canvas, dmrs2_text_holder);
        visual_dmrs2.visualise(); 		
        
        dmrs3_canvas = new Canvas("dmrs3_canvas", 320, 240, "dmrs3_canvas");
        var dmrs3_text_holder = new VisualKopasu.SentenceText("dmrs3_text_holder", dmrs3.sentence_text);
        var visual_dmrs3 = new VisualKopasu.DMRSCanvas(dmrs3, dmrs3_canvas, dmrs3_text_holder);
        visual_dmrs3.visualise(); 		
	}
	
	function toggleConsole(){
		$("#console").toggle();
		if($("#console").is(":visible")){
			$("#btnHide").prop('value', "Hide Console");				
		} 
		else{
			$("#btnHide").prop('value', "Show Console");
		}
	}
	
	function start(){
		// nothing
	}
  </script>
</head>
<body>
	<div id="banner" class="ui-widget-header ui-corner-all">DMRS demo (Version 0.2)</div>
	<div id="dmrs1_canvas"></div>
	<div id="dmrs1_sentence_text" class="dmrs_sentence_text"></div>
	
	<div id="dmrs2_canvas"></div>
	<div id="dmrs2_text_holder" class="dmrs_sentence_text"></div>
	
	<div id="dmrs3_canvas"></div>
	<div id="dmrs3_text_holder" class="dmrs_sentence_text"></div>

	<div id="toolbar" class="ui-corner-all">
		<input type="button" id="btnStart" name="btnStart" value="Information"/>
		<input type="button" id="btnClear" name="btnClear" value="Clear Console"/>
		<span class="toolbar_label">A label</span>
		<input type="button" id="btnHide" name="btnHide" value="Hide Console"/>
	</div>

	<div id="console" style="overflow: auto; max-height: 300px;"></div>
</body>
</html>
